<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Quick Sort</title>
    <script>
        /**快排算法**/
        sort = (array, left, right) => {
            if (left >= right) {
                return;
            }
            let i = left;
            let j = right;
            let baseNum = array[right];
            console.log(i, j, baseNum, 'yes')
            while (i < j) {
                while ((i < j) && (array[i] <= baseNum)) {
                    i++;
                    console.log('i=' + i, 'j=' + j, 'array[i]=' + array[i], 'array[j]=' + array[j], 'baseNum=' + baseNum);
                }
                console.log(i, j, '+');
                array[j] = array[i];
                array[i] = baseNum;
                while (i < j && array[j] >= baseNum) {
                    j--;
                    console.log('i=' + i, 'j=' + j, 'array[i]=' + array[i], 'array[j]=' + array[j], 'baseNum=' + baseNum);
                }
                console.log(i, j, '-');
                array[i] = array[j];
                array[j] = baseNum;
            }
            console.log(array);
            sort(array, left, j - 1);
            sort(array, j + 1, right);
        }
        quickSort = (array) => {
                sort(array, 0, array.length - 1);
                return;
            }
            /**输入与按钮的处理**/
        window.onload = function() {
            var oSubmit = document.getElementById("submit");
            oSubmit.onclick = function() {
                var arrayInput = document.getElementById("input").value; /*获取输入*/
                var output = document.getElementById("output");
                var array = arrayInput.split(','); /*输入转化为数组*/
                for (let i = 0; i < array.length; i++) {
                    array[i] = Number(array[i]);
                }
                quickSort(array);
                var textNode = document.createTextNode(array);
                output.appendChild(textNode);
            }
        }
    </script>
</head>

<body>
    <div>
        <div>
            <h3>快速排序</h3>
            <p>请你输入一组数，用英文逗号 ',' 隔开</p>
        </div>
        <input type="text" name="input" class="sort" id="input" value="" />
        <button type="submit" id="submit">提交</button>
        <div>
            <p>结果为：</p>
            <p id="output"></p>
        </div>
    </div>
</body>

</html>